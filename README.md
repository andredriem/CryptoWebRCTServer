CryptoWebRCTServer is a minimalist Go‑based signaling server dedicated solely to cryptographic key registration and message signaling—actual communications occur strictly peer‑to‑peer, with no media or data relayed through the server. It exposes a lightweight REST/WebSocket API for exchanging time‑based, cryptographically derived ephemeral IDs (obscuring static identifiers via a shared secret and the current time unit) and for relaying SDP/ICE offer–answer exchanges; once peers have the necessary keys and connection metadata, all traffic flows directly between clients using public/private‑key cryptography. This approach enables truly secure P2P applications—like chat—where no third party can intercept your secrets or message contents.

## Prerequisites

- Go 1.18 or later  
- Docker and Docker compose

## Installation

```bash
git clone https://github.com/andredriem/CryptoWebRCTServer.git
cd CryptoWebRCTServer
go mod download
```

## Running Locally

```bash
# Start the server on port 8080
go run main.go
```

By default it will:

- Serve `POST /register` for ephemeral‐ID registration  
- Serve WebSocket signalling on `/ws`  
- Host static assets from `./static`  

Visit http://localhost:8080 in your browser to load the client.

## Running with Docker

```bash
docker compose up -d
```

## Usage

### 1. Register a client

```bash
curl -X POST http://localhost:8080/register \
  -H "Content-Type: application/json" \
  -d '{
    "ephemeralContactKeysList":["key1","key2"],
    "tempEphemeralUserId":"user123",
    "hourId":1672531200
  }'
```

A successful registration returns HTTP 202 Accepted.

### 2. WebSocket Signalling

```js
const ws = new WebSocket("ws://localhost:8080/ws");
ws.onopen = () => {
  // join a room
  ws.send(JSON.stringify({ type: "join", room: "roomA" }));
  // then exchange SDP/ICE via ws.send(...)
};
```

Peers in the same “room” will automatically relay messages to each other.

## Protocol

Ephemeral IDs are generated by combining cryptographic keys with the current hour (or other time unit). The exact protocol spec is still in progress—stay tuned!

## License

This project is released under the MIT License.
```
